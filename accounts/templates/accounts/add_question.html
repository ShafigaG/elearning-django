{% extends 'accounts/base.html' %}

{% block title %}Add a question{% endblock %}

{% block content %}
<h2>Add a question for {{ exam.title }}</h2>

<form method="post">
  {% csrf_token %}
  
  <div class="mb-3">
    <label for="question">Question:</label>
    <input type="text" name="question" required class="form-control">
  </div>

  <div class="mb-3">
    <label>Options:</label><br>
    {% for i in "1234" %}
      <input type="text" name="choice" required placeholder="Choice {{ forloop.counter }}">
      <input type="radio" name="correct_choice" value="{{ forloop.counter0 }}"> Correct choice<br>
    {% endfor %}
  </div>

  <button type="submit" name="submit_continue" class="btn btn-success">Add a question and continue</button>
  <button type="submit" name="submit_finish" class="btn btn-secondary">Done</button>
</form>

<hr>
<h3>Added questions</h3>
<ul>
  {% for question in questions %}
    <li>
      <strong>{{ question.text }}</strong><br>
      <ul>
        {% for choice in question.choices.all %}
          <li>{{ choice.text }}{% if choice.is_correct %} âœ…{% endif %}</li>
        {% endfor %}
      </ul>
    </li>
  {% empty %}
    <li>No questions have been added yet.</li>
  {% endfor %}
</ul>
{% endblock %}
